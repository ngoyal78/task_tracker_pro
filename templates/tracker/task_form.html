{% extends 'tracker/base_generic.html' %}

{% block title %}Create Task{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="row mb-3">
    <div class="col-12">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-light p-2 rounded shadow-sm">
          <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
          <li class="breadcrumb-item active" aria-current="page">Create Task</li>
        </ol>
      </nav>
    </div>
  </div>

  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h2 class="mb-0">
        <i class="fas fa-plus-circle me-2"></i>Create New Task
      </h2>
    </div>
    <div class="card-body">
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="row">
          <!-- Left Column - Primary Task Information -->
          <div class="col-lg-8">
            <!-- Task Information Section -->
            <div class="border-bottom mb-4 pb-3">
              <h4 class="mb-3 text-primary">
                <i class="fas fa-info-circle me-2"></i>Task Information
              </h4>
              
              <div class="row g-3">
                <div class="col-md-8">
                  <label for="{{ form.title.id_for_label }}" class="form-label fw-bold">
                    <i class="fas fa-heading me-1 text-primary"></i>Task Title:
                  </label>
                  {{ form.title.errors }}
                  {{ form.title }}
                </div>
                
                <div class="col-md-4">
                  <label for="{{ form.category.id_for_label }}" class="form-label fw-bold">
                    <i class="fas fa-tag me-1 text-primary"></i>Category:
                  </label>
                  {{ form.category.errors }}
                  {{ form.category }}
                </div>
              </div>
              
              <div class="mt-3">
                <label for="{{ form.description.id_for_label }}" class="form-label fw-bold">
                  <i class="fas fa-align-left me-1 text-primary"></i>Description:
                </label>
                {{ form.description.errors }}
                {{ form.description }}
              </div>
            </div>
            
            <!-- Task Status and Timeline Section -->
            <div class="border-bottom mb-4 pb-3">
              <h4 class="mb-3 text-primary">
                <i class="fas fa-tasks me-2"></i>Status & Timeline
              </h4>
              
              <div class="row g-3">
                <div class="col-md-4">
                  <label for="{{ form.priority.id_for_label }}" class="form-label fw-bold">
                    <i class="fas fa-flag me-1 text-primary"></i>Priority:
                  </label>
                  {{ form.priority.errors }}
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-exclamation-triangle"></i></span>
                    {{ form.priority }}
                  </div>
                </div>
                
                <div class="col-md-4">
                  <label for="{{ form.status.id_for_label }}" class="form-label fw-bold">
                    <i class="fas fa-chart-line me-1 text-primary"></i>Status:
                  </label>
                  {{ form.status.errors }}
                  {{ form.status }}
                </div>
                
                <div class="col-md-4">
                  <label for="{{ form.due_date.id_for_label }}" class="form-label fw-bold">
                    <i class="fas fa-calendar-alt me-1 text-primary"></i>Due Date:
                  </label>
                  {{ form.due_date.errors }}
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-calendar"></i></span>
                    {{ form.due_date }}
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Comments Section -->
            <div class="mb-4">
              <h4 class="mb-3 text-primary">
                <i class="fas fa-comment-alt me-2"></i>Comments
              </h4>
              
              <div class="mb-3">
                {{ form.comments.errors }}
                {{ form.comments }}
              </div>
            </div>
          </div>
          
          <!-- Right Column - Secondary Task Information -->
          <div class="col-lg-4">
            <!-- Assignment Section -->
            <div class="card mb-4 border-primary">
              <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                  <i class="fas fa-user-check me-2"></i>Assignment
                </h5>
              </div>
              <div class="card-body">
                <label for="{{ form.assigned_to.id_for_label }}" class="form-label fw-bold">
                  <i class="fas fa-users me-1 text-primary"></i>Assign To:
                </label>
                {{ form.assigned_to.errors }}
                {{ form.assigned_to }}
                <div class="form-text mt-2">
                  <i class="fas fa-info-circle me-1"></i>Hold Ctrl/Cmd to select multiple users
                </div>
              </div>
            </div>
            
            <!-- Attachments Section -->
            <div class="card mb-4 border-primary">
              <div class="card-header bg-primary text-white">
                <h5 class="mb-0">
                  <i class="fas fa-paperclip me-2"></i>Attachments
                </h5>
              </div>
              <div class="card-body">
                <div class="mb-3">
                  {{ form.attachments.errors }}
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-file-upload"></i></span>
                    {{ form.attachments }}
                  </div>
                  <div class="form-text text-muted mt-2">
                    <i class="fas fa-info-circle me-1"></i>Upload files related to this task
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Task Creation Tips -->
            <div class="card mb-4">
              <div class="card-header bg-light">
                <h5 class="mb-0">
                  <i class="fas fa-lightbulb me-2"></i>Task Creation Tips
                </h5>
              </div>
              <div class="card-body">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                    <i class="fas fa-check-circle text-success me-2"></i>Be specific with task titles
                  </li>
                  <li class="list-group-item">
                    <i class="fas fa-check-circle text-success me-2"></i>Set realistic due dates
                  </li>
                  <li class="list-group-item">
                    <i class="fas fa-check-circle text-success me-2"></i>Assign to appropriate team members
                  </li>
                  <li class="list-group-item">
                    <i class="fas fa-check-circle text-success me-2"></i>Include all relevant details
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        
        <div class="d-flex justify-content-between mt-4">
          <a href="{% url 'dashboard' %}" class="btn btn-outline-secondary btn-lg">
            <i class="fas fa-times me-1"></i>Cancel
          </a>
          <button type="submit" class="btn btn-success btn-lg">
            <i class="fas fa-save me-1"></i>Save Task
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
